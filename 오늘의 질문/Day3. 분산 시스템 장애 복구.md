# 분산 시스템 장애 복구
### 분산 시스템에서 서비스 장애나 노드 장애가 발생했을 때, 복구 전략이나 재시작 로직을 설계하면서 고려했던 요소와 실제 경험이 있다면 설명해주세요.
힌트: 장애 탐지 방법, 복구 전략(자동/수동), 데이터 정합성 유지 방법, 장애 전파 방지 등의 관점에서 설명해 보세요. 실제 경험이 없다면 학습한 내용이나 토이 프로젝트에서 고려했던 부분을 공유해도 좋습니다.
<br/> <br/>

### 🎯 해당 상황에 대한 실제 경험은 없지만, 관련 개념과 설계 원칙에 대해 학습중입니다.

--- 

## 🌱 분산 시스템 장애 복구

- **분산 시스템**: 여러 컴퓨터(서버)가 네트워크로 연결되어 하나의 시스템처럼 동작하는 구조이다. 빠르고 유연한 처리가 가능하지만, 하나라도 문제가 생기면 전체 서비스에 영향을 줄 수 있어 **장애 대응**이 중요하다.
- **장애**: 시스템이 정상적으로 작동하지 않을 때를 말한다.
  - 예시:
    1. 어떤 서버가 갑자기 꺼짐  
    2. 특정 서비스가 응답하지 않음  
    3. 네트워크 연결이 끊김 등

---

### 🧑🏻‍🌾 장애 발생 시 고려해야 할 요소

1. **장애 감지 (Failure Detection)** : 시스템이 정상인지 주기적으로 확인한다. 
   > 예시: 헬스 체크(Health Check), 하트비트(Heartbeat)

2. **오탐 방지 (정확한 판단)** : 잠깐 느려진 것인지, 실제 장애인지 구분해야 한다. 잘못 판단하면 멀쩡한 서버를 꺼버릴 수도 있다.

3. **자동 복구 로직 (Auto Recovery)** : 문제가 생기면 자동으로 다시 시작되도록 설정하거나, 다른 서버가 대신 처리하도록 한다.
   > 예시: Kubernetes, systemd, Supervisor

4. **역할 분담 및 리더 선출** : 여러 서버 중 누가 리더(중심 역할)를 할지 정해야 하며, 리더가 꺼졌을 경우 다른 서버가 자동으로 리더가 되도록 한다.
   > 예시: Raft, Zookeeper

5. **트래픽 우회 및 부하 분산** : 문제가 생긴 서버로 요청이 가지 않도록 트래픽을 정상 서버로 우회시키며, 여러 서버에 트래픽을 나눠 부담을 줄인다.
   > 예시: 로드 밸런서 (Load Balancer)

6. **사전 테스트 (카오스 엔지니어링)** : 일부러 장애를 만들어 시스템이 잘 대응하는지 실험한다.

7. **로그 기록 및 모니터링** : 장애 원인을 추적할 수 있도록 로그를 남기고, 시스템 상태를 실시간으로 모니터링하며 이상 징후 발생 시 알림을 보낸다.
   > 예시 도구: Prometheus, Grafana, ELK Stack

### 👀 핵심 요약
- 분산 시스템은 여러 서버가 협력하는 구조이기 때문에, 한 서버가 고장나도 다른 서버가 빠르게 대체하거나 자동 복구되도록 설계하는 것이 핵심이다.
